# OS
### 버퍼링
> 프로세서와 입출력장치의 속도 차이로 생긴 유후시간이 없도록 입출력장치별로 입출력 버퍼를 두어, 
> 프로세서가 연산을 할 때 동시에 다른 작업을 입출력 하는 방법

##### 버퍼
> 프로세서가 어떤 작업을 처리하는 동안 버퍼에 다음으로 처리할 작업을 미리 읽어 저장해 두는 메모리이다.

### 스풀링
> 속도가 빠른 디스크를 버퍼처럼 사용하여 입출력장치에서 미리 읽는 것
> 별개의 오프라인 장치 사용, 여러 작업의 입출력과 계산을 함께 사용 가능

## 교착상태
> 프로세스가 결코 일어나지 않을 사건을 기다리는 상태가 되면 교착(Dead lock)상태에 빠졌다고 말한다.
> 교착상태는 시스템 자원에 요구가 뒤엉킨 상태로, 두 프로세스가 사용하는 자원을 서로 기다리고 있을 때 발생

#### 교착상태의 예
> 둘 이상의 작업이 대기 상태로 중요한 자원을 사용하려고 기다릴 때 발생
 자원의 요청과 해제가 중요

1. 스풀링 시스템에서 발생하는 교착 상태
2. 디스크를 공유할 때 발생하는 교착 상태
3. 네트워크에서 발생하는 교착 상태

#### 교착 상태의 발생 조건
1. 상호배제
> 자원을 최소 하나 이상 비공유해야 한다.
2. 점유와 대기
3. 비선점
> 자원은 선점할 수 없다. 자원을 점유하고 있는 프로세스가 끝나야 해제됨.
4. 순환 대기

#### 선점 자원과 비선점 자원의 차이
> 선점 차이는 부작용 없이 자원을 빼앗을 수 있다. 예로는 메모리, 버퍼, 프로세서 등이 있다. 반면에 비선점 자원은 하나의 프로세스에서 빼앗아 선점 할 수 없고, 부작용 없이 다른 프로세스에게 할당할 수 없는 자원.

#### 교착 상태의 해결 방법 3가지
> 1. 교착 상태가 발생하지 않도록 예방하는 방법
> 2. 교착 상태의 발생 가능성을 배제하지 않고 이를 적절히 회피하는 방법
> 3. 교착 상태를 허용하되 교착 상태를 탐지하여 다시 회복하는 방법

#### 교착 상태 예방
> 1.자원의 상호배제 조건 방지
  + 상호배제는 자원의 비공유가 전제되어야 한다.
> 2. 점유와 대기 조건 방지
  + 프로세스가 작업을 수행하기 전에 필요한 자원을 모두 요청하고 획득
> 3. 비선점 조건 방지
  + 이미 할당된 자원에 선점권이 없어야 한다.
> 4. 순환(환형) 대기 
  + 모든 자원에 일련의 순서를 부여하고 각 프로세스가 오름차순으로만 자원을 요청할 수 있게 한다.

#### 교착 상태 회피
> 1. 프로세스의 시작 중단
  + 현재 수행 중인 모든 프로세스의 최대 자원 요청량과 새로운 프로세스의 최대 요청량을 합한 자원 요청량을 수용할 수 있으면 새로운 프로세스를 수행한다.
> 2. 자원 할당 거부(은행가 알고리즘)
  + 프로세스가 요청한 자원을 할당했을 때 교착 상태가 발생할 수 있다면 요청한 자원을 할당하지 않는다. 
  + 자원의 할당 허용 여부를 결정하기 전에 미리 결정된 모든 자원의 최대 가능한 할당량을 시뮬레이션 하여 안전 여부를 검사한다.
  
  
#### 교착 상태 회복
+ 시스템 상태를 검사하는 교착 상태 탐지 알고리즘(은행가 알고리즘에서 자료구조가 비슷)
> Available, Allocation, Request
+ 교착 상태에서 회복시키는 알고리즘
> ++ 프로세스 중단
> 1. 교착 상태 프로세스를 모두 중단
> 2. 한 프로세스씩 중단 -> 중단할 때마다 교착상태 탐지 알고리즘
> ++ 자원 선점
> 1. 선점 자원 지원
> 2. 복귀
> 3. 기아

## 기아 상태
> 특정 프로세스의 우선순위가 낮아서 원하는 자원을 계속 할당 받지 못하는 상태

### 해결 방안
+ 프로세스 우선수위를 수시로 변경
+ 오래 기다린 프로세스 우선순위 높여주기
+ 요청 순서대로 처리하는 FIFO(First In First Out)기반 요청 큐 사용
